<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.38.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
    .filter-group {
        font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
        font-weight: 600;
        position: absolute;
        top: 10px;
        right: 10px;
        z-index: 1;
        border-radius: 3px;
        width: 120px;
        color: #fff;
    }

    .filter-group input[type=checkbox]:first-child + label {
        border-radius: 3px 3px 0 0;
    }

    .filter-group label:last-child {
        border-radius: 0 0 3px 3px;
        border: none;
    }

    .filter-group input[type=checkbox] {
        display: none;
    }

    .filter-group input[type=checkbox] + label {
        background-color: #3386c0;
        display: block;
        cursor: pointer;
        padding: 10px;
        border-bottom: 1px solid rgba(0, 0, 0, 0.25);
    }

    .filter-group input[type=checkbox] + label {
        background-color: #3386c0;
        text-transform: capitalize;
    }

    .filter-group input[type=checkbox] + label:hover,
    .filter-group input[type=checkbox]:checked + label {
        background-color: #4ea0da;
    }

    .filter-group input[type=checkbox]:checked + label:before {
        content: 'âœ”';
        margin-right: 5px;
    }
</style>

<div id='map' style='width: 100%; height: 100%;'></div>
<nav id='filter-group' class='filter-group'></nav>

<script>

    function adjustFilters(map) {
        var input1 = document.getElementById('input1');
        var input2 = document.getElementById('input2');
        var input3 = document.getElementById('input3');

        filt_list = ["any"]
        
        filt1 = ['==', 'chain_name', "Starbucks"]
        if (input1.checked) {filt_list.push(filt1);}
        
        filt2 = ['==', 'chain_name', "Dunkin' Donuts"]
        if (input2.checked) {filt_list.push(filt2);}
        
        filt3 = ['==', 'chain_name', "Caribou Coffee"]
        if (input3.checked) {filt_list.push(filt3);}

        map.setFilter("points", filt_list);
    }

    mapboxgl.accessToken = 'pk.eyJ1IjoiZHdhc2NvIiwiYSI6ImNpdTRtdW9sZjBoaDkydHBnY3FiaGI2bDEifQ.9Gf5y4pu-NhN6s_L0vdd9Q'

    var filterGroup = document.getElementById('filter-group');
    
    map = new mapboxgl.Map({
      container: document.getElementById("map"),
      logoPosition: 'bottom-right',
      style: 'mapbox://styles/dwasco/cj0n4fxjp003q2rnyu3r18dd1',
    });
    map.addControl(new mapboxgl.NavigationControl(), 'bottom-left')

    onMapLoad = () => {
        isMapLoaded = true
        map.addSource('points', {
          type: 'geojson',
          cluster: false,
          clusterMaxZoom: 16, // Max zoom to cluster points on
          clusterRadius: 2.5, // Radius of each cluster when clustering points (defaults to 50)
          data: {
            type: 'FeatureCollection',
            features: [
  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36063399999997614032,  33.74212399999999689726]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: o6_jGMyRz4JTzuxRdGbQaw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-111?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14704475030.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38890075683590907829,  33.75742340087889914457]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: QCyl2CV8hKm5xfO1ZBmwWw<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-25?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046811100.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38308338623049564831,  33.78226115259660389256]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: ZZ_IK9NIaJeXC9nfwFgC4g<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-112?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046850287.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.37100999999999828560,  33.79787999999999925649]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: zy5TNyVjMHs9WGksu3-ZYA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-66?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048760629.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38836999999999477495,  33.75941999999999865167]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: kMCTnXhXGI3RgGgM9wTvUg<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-13?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046591400.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.39940474927429647778,  33.79320293023219790030]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 1aHakXiZPIWgc7AQeYUZYA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-40?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 16789544265.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.34941864013670453915,  33.76806640625000000000]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: iVB9Iq0f0QYVgrdotwHjPQ<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-80?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042309085.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.39472172287290163695,  33.75774760963840037675]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: H7halsXP7gpewDUeNiPmyg<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-72?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042233099.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38557892007709426707,  33.76263993249710182454]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: Az2ffT8e-B1M38BhJH3TMQ<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-6?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14045891122.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38415444378499330469,  33.77842461393129980252]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: aOdm2E8QLRFNy-hDoigwAQ<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-110?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048767466.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36770986701029073629,  33.82224611711580308793]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: lOdHsuHw797HpuxFZeOaoA<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-43?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14043431985.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38067999999999813099,  33.78215999999999752390]
    },
    properties: {
      description: 'Caribou Coffee<br>yelp_id: 4IL9VkQeMgpkLBl6ivHxeA<br><a href=\'https://www.yelp.com/biz/caribou-coffee-atlanta?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048700711.0',
      chain_name: "Caribou Coffee"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38837593909380530022,  33.81882875412860300912]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: AhsaYe8AU60haPpJkJYeCw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-62?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042618447.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36081819999999709125,  33.85212750000000170303]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: HAwsvwx-GcyK_hP8cnEKUw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-67?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14049495971.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36590194702149858585,  33.77361373972710367752]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: NENznvH13vyWWRx_843oLA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-31?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048159624.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.43040999999999485226,  33.73859000000000207820]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: PSA4TlZ4YNK08jJGJuLD1w<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-29?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14047586450.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38932433724399118091,  33.77065896312630144394]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: -diZAALtW-OwKi-wDId6lg<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-41?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14045320046.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36560954583841009935,  33.82561350091499718928]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 2KpI3WvNuKta7PF1cYbzbQ<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-59?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048142451.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.37309447614219948264,  33.84636244220669709648]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: cN6XNFGbaD3QEg5NJwT1OA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-79?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042405596.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38703000000002418801,  33.78632999999999952934]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: VP-esMKTtNOJK1oLf9wnnw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-29?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048924588.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.39826242959341584537,  33.79138227675310446330]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: E-V6ZiYIu3iSVNefcJJvag<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-45?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14049611229.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.37000989999999944757,  33.84405000000000285354]
    },
    properties: {
      description: 'Caribou Coffee<br>yelp_id: E2KM4BZAjutrtEmE-t-OmQ<br><a href=\'https://www.yelp.com/biz/caribou-coffee-atlanta-7?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042610020.0',
      chain_name: "Caribou Coffee"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38854220000000339041,  33.75680919999999929360]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: jqy4gp-Hysad2AmG_ft8UQ<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-89?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042212540.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38652040000002330089,  33.76285930000000234941]
    },
    properties: {
      description: 'Caribou Coffee<br>yelp_id: iM3SaPy9--rixDMfXoCa5w<br><a href=\'https://www.yelp.com/biz/caribou-coffee-atlanta-4?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046810208.0',
      chain_name: "Caribou Coffee"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38737855728980719050,  33.76077854572469760797]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: _nf09dwJSG6zV7DLslTwXw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-17?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14045894522.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36882031783609647846,  33.78019981318379905133]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: oa9nLpBOA5mV6kBlICbENw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-19?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046851609.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.41277164246670849934,  33.80423843131379868510]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 4GAH_hm49oGp0lcHJLyuGg<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-12?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14043520227.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36269025668829613096,  33.84704427155850225972]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 0B3AgVU9yn24SOhTwj8dpA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-93?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042390890.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.36269025668829613096,  33.84704427155850225972]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 1fdtzU0u1sOsznhWKFaQAg<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-102?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042390890.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38509999999999422471,  33.76158000000000214413]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: -_wNdVIqkvUYuY9DHAm7Zw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-104?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14045866121.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.34785461425779828915,  33.75708770751949572286]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: T43Yq8AkvPKwf5A0r-_Mmw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-108?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048804105.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38692762436750172128,  33.77341426173880023498]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: P9M_XkKxOQhRjfgLiXAtdA<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-19?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048178059.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.42766570000000569962,  33.84970510000000132322]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: q1ZCKYLNZH0nH3-8aFq4Dw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-69?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042640120.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.39434051513670453915,  33.75812911987299713701]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 24QwXFFZjGs98LzBZSRjRA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-74?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042233099.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38844300000002363049,  33.77668380000000070140]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 3msQyhDmlXbH3VyaJCuMqA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-36?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048941858.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38063049316409092171,  33.87201690673830256628]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: mK4DrVoKA8_IWp1lY_iRNg<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-75?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14044979121.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.34648898811769868189,  33.75711974751260413541]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 0FgSzXM_WT2XYVFx376x9A<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-100?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14042600200.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.39535600000000670207,  33.76081099999999679540]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: 7tjpWdEHyDT8CLOrY-Rvpw<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-3?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046812349.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.41533000000002573415,  33.80244000000000426098]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: hrGuI8ojCGYjCv6SUSvmVg<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-36?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14043510775.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38266208810199486834,  33.83536885106899916309]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: Ma_eP7RX1vWAhmjZTY7zyw<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-57?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14043649099.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38684100000000398722,  33.76022720000000276741]
    },
    properties: {
      description: 'Caribou Coffee<br>yelp_id: ZtHoM3IYOiK4k81OmDTiHA<br><a href=\'https://www.yelp.com/biz/caribou-coffee-atlanta-11?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14046883355.0',
      chain_name: "Caribou Coffee"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.37141556292770872005,  33.77309397175499583454]
    },
    properties: {
      description: 'Dunkin\' Donuts<br>yelp_id: s_ClC2mkz8FFUE8tTCGIvA<br><a href=\'https://www.yelp.com/biz/dunkin-donuts-atlanta-39?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048100010.0',
      chain_name: "Dunkin' Donuts"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38401031494140625000,  33.77833175659180398043]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: 67MJ45yZWl6PZMf-nce8eA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-76?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048767466.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.39651019608959359175,  33.77416300576309993176]
    },
    properties: {
      description: 'Starbucks<br>yelp_id: qlDF6b5ZvgF-TZTQVDjQuA<br><a href=\'https://www.yelp.com/biz/starbucks-atlanta-25?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14043857200.0',
      chain_name: "Starbucks"
    }
  },

  {
    type: 'Feature',
    geometry: {
      type: 'Point',
      coordinates: [-84.38530000000000086402,  33.78616300000000194359]
    },
    properties: {
      description: 'Caribou Coffee<br>yelp_id: NQzIR2LL1EZGcM2iaeYcSw<br><a href=\'https://www.yelp.com/biz/caribou-coffee-atlanta-13?adjust_creative=ripple&utm_campaign=yelp_feed&utm_medium=feed_v2&utm_source=ripple\'>Yelp page</a><br>phone: 14048728770.0',
      chain_name: "Caribou Coffee"
    }
  }],
          },
        })

        map.addLayer({
          id: 'points',
          type: 'circle',
          paint: {
            'circle-blur': 0.1,
            'circle-radius': {
              base: 2,
              stops: [[11, 5], [14, 8], [22, 180]],
            },
            'circle-color': {
              property: 'chain_name',
              default: '#FF7616',
              type: 'categorical',
              stops: [
                  ["Starbucks", "#fbb03b"],["Dunkin' Donuts", "#223b53"],["Caribou Coffee", "#e55e5e"] 
              ],
            },
            'circle-opacity': 0.7,
            'circle-stroke-width': 0,
            'circle-stroke-color': 'black',
            'circle-stroke-opacity': 0.5,
          },
          source: 'points',
        })

        // Add checkbox and label elements for each chain
        var input1 = document.createElement('input');
        input1.type = 'checkbox';
        input1.id = 'input1';
        input1.checked = true;
        filterGroup.appendChild(input1);

        var label = document.createElement('label');
        label.setAttribute('for', 'input1');
        label.textContent = "Starbucks";
        filterGroup.appendChild(label);

        // Add checkbox and label elements for the layer. 
        var input2 = document.createElement('input');
        input2.type = 'checkbox';
        input2.id = 'input2';
        input2.checked = true;
        filterGroup.appendChild(input2);

        var label = document.createElement('label');
        label.setAttribute('for', 'input2');
        label.textContent = "Dunkin' Donuts";
        filterGroup.appendChild(label);

        // Add checkbox and label elements for the layer.
        var input3 = document.createElement('input');
        input3.type = 'checkbox';
        input3.id = 'input3';
        input3.checked = true;
        filterGroup.appendChild(input3);

        var label = document.createElement('label');
        label.setAttribute('for', 'input3');
        label.textContent = "Caribou Coffee";
        filterGroup.appendChild(label);

        // When the checkbox changes, update the visibility of the layer.
        //input1.addEventListener('change', function(e) {console.log("Alive")});
        input1.addEventListener('change', function(e) {adjustFilters(map);});        
        input2.addEventListener('change', function(e) {adjustFilters(map);});
        input3.addEventListener('change', function(e) {adjustFilters(map);});

	      map.setCenter([-84.3828176219829, 33.78858805781994])
        map.zoomTo(11)

        // When a click event occurs on a feature in the places layer, open a popup at the
        // location of the feature, with description HTML from its properties.
        map.on('click', 'points', function (e, i) {

            new mapboxgl.Popup()
                .setLngLat(e.features[0].geometry.coordinates)
                .setHTML(e.features[0].properties.description)
                .addTo(map);
        });

        // Change the cursor to a pointer when the mouse is over the places layer.
        map.on('mouseenter', 'points', function () {
            map.getCanvas().style.cursor = 'pointer';
        });

        // Change it back to a pointer when it leaves.
        map.on('mouseleave', 'points', function () {
            map.getCanvas().style.cursor = '';
        });
    }
    map.on('load', onMapLoad)

</script>
